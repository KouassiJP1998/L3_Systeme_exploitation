all:	pipe-main.out

pipe-common.o:	pipe-common.c pipe-common.h
			gcc -std=c89 -pedantic -Wall -Werror -D_GNU_SOURCE -g -c -o pipe-common.o pipe-common.c

pipe-message.o:	pipe-message.c pipe-message.h
			gcc -std=c89 -pedantic -Wall -Werror -D_GNU_SOURCE -g -c -o pipe-message.o pipe-message.c

pipe-main.out:	pipe-main.c pipe-common.o pipe-message.o
			gcc -std=c89 -pedantic -Wall -Werror -D_GNU_SOURCE -g -o pipe-main.out pipe-main.c pipe-common.o pipe-message.o

clean:
	$(RM) pipe-main
	$(RM) pipe-message
	$(RM) pipe-common
